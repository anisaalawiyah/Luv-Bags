// import { pool } from "../db.js";

// export const addRegister = async  (req, res) => {
//     try {
//         const { username, email, password, phone_number, address } = req.body;

//         // Hash password
//         const hash = await argon2.hash(password);

//         // Insert data ke dalam tabel users
//         const result = await pool.query(
//             `INSERT INTO users (username, email, password, phone_number, address) 
//              VALUES ($1, $2, $3, $4, $5) RETURNING *`,
//             [username, email, hash, phone_number, address]
//         );

//         // Mengembalikan respons jika pendaftaran berhasil
//         res.status(201).json({
//             message: "Pendaftaran berhasil",
//             user: result.rows[0]  // Mengembalikan data pengguna yang baru saja terdaftar (tanpa password)
//         });
//     } catch (error) {
//         console.error(error.message);
//         if (error.code === '23505') { // Error code untuk pelanggaran unique constraint
//             res.status(400).json({ message: "Username atau email sudah terdaftar" });
//         } else {
//             res.status(500).json({ message: "Terjadi kesalahan saat mendaftarkan pengguna" });
//         }
//     }
// }

// export const addLogin = (async (req, res) => {
//     const result = await pool.query("SELECT * FROM users WHERE username = $1", [
//       req.body.username,
//     ]);
//     if (result.rows.length > 0){
//       const user = result.rows[0];
//       if (await argon2.verify(user.password, req.body.password)) {
//         const token = jwt.sign(user, process.env.SECRET_KEY);
//         res.send({
//           token,
//           message: "Login berhasil.",
//         });
//       } else {
//         res.status(401);
//         res.send("Kata sandi salah.");
//       }
//     } else {
//       res.status(404);
//       res.send(
//         `Pengguna dengan nama pengguna ${req.body.username} tidak ditemukan.`
//       );
//     }
//   });
